#summary HFM.NET Version History
#labels Featured

=Change Log - Version: 0.4.2 - Revision 92 - Beta=

  * Enhancement: Issue 94  - Add logic to Determine 'RunningAsync' Status (Blue).
  * Enhancement: Issue 113 - Calculate Bonus Credit and PPD for Projects that specify a positive KFactor.  
  * Enhancement: Rework the Project Summary (psummary) download code and enable capture of the KFactor.
  * Enhancement: Add 'SendingWorkPacket' Status (Purple).
  * Enhancement: Added PPD, PPW, and WU Counts to HTML Instance Pages.
  * Enhancement: Add Links to the Mobile Versions of the Web Overview and Summary Pages.

  * Fix: Unhandled Exception generated by the ZedGraph drawing code when a Project is unknown.
  * Fix: Issue 114 - Registry operations to create the Auto Run Key if it does not exist.
  * Fix: Auto-Run and Run Minimized options.  These options were not being saved.
  * Fix: Only save Messages Window Size and Location if WindowState is Normal.

  * Change: Parse Project Information from FAHlog.txt only if it hasn't already been populated by the Queue data.
  * Change: Parse the unitinfo.txt file after Parsing the FAHlog.txt file.
  * Change: Reordered the Project data on HTML Instance Pages to resemble the same data and order as seen in the Benchmarks UI.
  * Change: Don't compute Deadline (Preferred & Final) if the Project is unknown.

=Change Log - Version: 0.4.0 - Revision 86 - Beta=

  * Enhancement: HFM.NET is now also delivered in an MSI Installer Package.  This is now the preferred method for installing HFM.NET on Windows.
  * Enhancement: Queue Viewer - for viewing information contained within the F@H client queue.dat file.
  * Enhancement: Benchmarks Upgrades
    * Minimum & Avgerage Frame Time Graphs (bar colors user configurable).
    * Ability to remove all benchmarks associated with a specific Client ("X" next to client names).
    * Ability to remove all benchmarks associated with a specific Project (right-click on Projects).
    * Ability to refresh the Minimum Frame Time based on current cache of 300 Frame Durations (right-click on Projects).
    * Save Benchmark Graphs to file (png, jpeg, gif, tiff). - Note: emf file type crashes under Mono
  * Enhancement: HTML Output Instance Pages - include the FAHlog.txt section for the active work unit.
  * Enhancement: HTML Output Instance Pages - include a link to the full FAHlog.txt file.
    * Note: The option enable or disable the copy/upload of the FAHlog.txt files is available in the Preferences.
  * Enhancement: Benchmarks and Messages Forms now save their Size and Position from session to session.
  * Enhancement: Option to run the application minimized to the system tray.


  * Fix: Bug causing partial cpu client frames to be detected as a full frame.
  * Fix: HTML Output pages are now correctly marked as utf-8 and have their DOCTYPE set to HTML 4.01 TRANSITIONAL.
  * Fix: (Mostly) Compatibility issues with GUI layout under 120DPI fonts (Windows only).  There are still some small alignment issues with the queue viewer show/hide functionality.
  * Fix: Grid Tooltip paints when entering a cell the first time, not continually. This fixes high cpu usage on Windows 7 (and probably Vista) due to continual redraw.


  * Change: Text benchmark output only shows production lines when the client is running the benchmark project.
  * Change: Reduced the number of simultaneous log retrieval threads from 64 to 20 (I believe I was starving the thread pool with too many threads).
  * Change: Effective Rate is no longer based on a sliding value (current Date and Time).  It is now based on the last log retrieval time for each client, yielding a fixed value between data refresh cycles.
  * Change: VERY IMPORTANT!!!!
    * Due to UAC rules for installed applications under Vista & Windows 7 this version will move your BenchmarkCache.dat, CompletedUnits.csv, & CompletedUnits.0_2_2.csv files to your user's HFM.NET Application Data Folder. `*`

 `*` HFM.NET Application Data Folder (example locations)

 Windows XP: C:\Documents and Settings\`<username>`\Application Data\HFM

 Vista / Windows 7: C:\Users\`<username>`\AppData\Roaming\HFM

=Change Log - Version: 0.3.0 - Revision 53 - Beta=

  * Enhancement: Log Parsing... Log Parsing... Log Parsing... a new approach, more being identified, just a huge improvement in reliability and future enhancements.
  * Enhancement: Add support for 'GettingWorkPacket' Status (Purple Status Color).
  * Enhancement: Email Reporting - Configure a reporting Email Address and SMTP Server and option to report clients detected in a 24hr. EUE Pause state (not yet tested on live data).
  * Enhancement: Encrypt sensetive data before storing in XML.  This includes Host Server Passwords (encrypted the next time the configuration file is saved) and the following preferences fields: Proxy Server Password, SMTP Server Password, & HTML Output Folder or FTP URL (these fields will be encrypted on the first run of HFM v0.3.0).
  * Enhancement: Support for Log Text Coloring.  Current Color Key: Blue="Key" Line / Green=Frame Progress Line / Red=Core and Client Shutdown / Grey=Not Identified
  * Enhancement: Add Auto-Run on Windows Startup option (tied to user account via reg key in HKCU).
  * Enhancement: Update code to write Core Name and Core Version, Average Frame Time based on all frames, and upgrade support from previous file layout for CompletedUnits.csv.
  * Enhancement: Indentify a Core Shutdown Result of "INTERRUPTED" and add these to the failed WU count.  


  * Fix: Altered code to use DateTimeStyle values specifically for Mono Framework.  Mono does not appear to like the NoCurrentDateDefault style, which results in the DateTime.ParseExact method returning a DateTime equivalent to DateTime.MinValue.  This yields a TimeOfDay equal to TimeSpan.Zero, which results in no frame durations being calculated.  The bottom line... I BELIEVE THIS FIXES THE LOG PARSING ISSUES ON MONO!!!
  * Fix: Use local volatile list in Messages Form to hold current Debug messages in lieu of accessing the current message lines from the TextBox.  This appears to have solved the problem with messages that go "missing" from the Messages Form (most evident when running under the Mono Framework).
  * Fix: Unhandled exception when double-clicking a client with the Ctrl key held down - Thanks ixor!
  * Fix: Progress Column sorting.  The value 100% was not being sorted properly (sorting was based on text value, now based on float value) - Thanks ixor!
  * Fix: Benchmarks Form to use TableLayoutPanel.  Now scales properly when using Large Fonts (120 DPI) - Thanks ixor!
  * Fix: Project ID has to be known before any work unit data is added to the benchmarks data.  Any data added by previous versions with a Project ID of 0 will be deleted upon entering the Benchmarks Form.
  * Fix: Fixed a long standing bug that output an incorrect Expected Completion time on Instance web pages.
  * Fix: Correct spelling of "occurred" in process start error messages (ProcessStartError Resource String).
  * Fix: File name validation (as used by the Host Configuration Dialog).  FAHlog.txt and unitinfo.txt file names could be entered with grossly unacceptable values.


  * Change: Remove requirement for unitinfo.txt file to be present for log parsing to run.  
  * Change: Update Main Form and HTML Summary to draw "Unknown" when Download Time or Deadline is DateTime.MinValue.
  * Change: SysTray Icon ToolTip to read "x Working Clients" and "x Non-Working Clients" to use the same nomenclature as the HTML Output.
  * Change (for anyone building from source): ScriptedRelease config is the only config that runs Pre or Post Build events.  It is to be used for CruiseControl.NET CI Server Builds.  The standard Debug and Release configs are available to use without any third-party dependencies (MSBuild Community Tasks, NUnit, NCover, FxCop, etc).  Set AssemblyVersion.cs Revision number to 0, only official releases should contain the Revision number.  This file will be updated only with Major.Minor.Build from now on.

=Change Log - Version: 0.2.2 - Build 31 - Beta=

  * Fix: Issue with Save As... function not using the file name supplied by the user in the Save As... Dialog.  Was using current config file name instead... which in the case of a new configuration would result in an unhandled exception - Thanks augie!!!

  * Change: Messages Window can now be closed using F7 key.
  * Change: Now a single instance application (attempting to start HFM.exe again won't yield an exception, just a dialog telling you the app is already running).
  * Change: User specific UI settings like log file splitter location, column indexes, and column sort are now being saved at the time they are changed... not just on application shutdown.

  * Enhancement: HTML Summary now respects the 'Allways List Offline Clients Last' option.
  * Enhancement: Add options to turn on/off the search for Duplicate User/Machine ID and Project (R/C/G) (HTML Summary reflects these changes as well).

=Change Log - Version: 0.2.2 - Build 30 - Beta=

  * Fix: FTP Client Type Download on Linux (Mono).  
  * Fix: Frame calculations 'AllFrames' and 'EffectiveRate' were not persisting from session to session, would default back to 'LastThreeFrames'.  
  * Fix: Allow special keystrokes (Ctrl+C, Ctrl+V, etc) in Numeric only textboxes.  
  * Fix: Formatting error with links to individual clients on the standard web summary.html page (client links would not work when used with Firefox on Linux... Windows based browsers were fine)
  * Fix: Show NotifyIcon (sys tray icon) after Form has been shown (user reported unhandled exception when double-clicking on Icon before main Form is shown).  
  * Fix: Current UnitInfo states now being saved correctly when leaving the current configuration (not just on shutdown).

  * Change: Status Color Green is Color.Green (lighter) in lieu of Color.DarkGreen.  
  * Change: Halting lookup of unknown protein description when doing Web Generation.  Eliminates "HFM.Helpers.ProteinData.DescriptionFromURL threw exception..." messages that appear unnecessarily.
  * Change: Host Configuration - Validate 'Local Path' after returning from the Folder Browse dialog.  
  * Change: Added check for EOC XML Stats 'Status' to limit the number of XML data retrievals when the stats do not change (like what usually happens at 12 noon update).  
  * Change: Time based column alternate formatting to use leading 0 (i.e. 00min 00sec).  
  * Change: Don't show Save Dialog when user selects a "Save" operation and no Filename and no Clients are defined.
  * Change: Added error dialog when Import FahMon Configuration yields no added clients.  
  * Change: Added error dialog when Configuration Load yields no added clients.

  * Enhancement: Add support for finding duplicate Project (R/C/G) and User + Machine ID combinations (HTML Summary reflects these changes as well).

=Change Log - Version: 0.2.2 - Build 28 - Beta=

  * Enhancement: Add User Stats Data Display from EOC XML along with option to enable or disable the display.
  * Enhancement: HTML Summary - User Name cells as Orange background when User Name does not match the User Name configured in the Preferences.
  * Enhancement: Added five new style sheets for more Website color options.
  * Enhancement: Conversation time of HTML Upload via FTP is now being logged (Info Level).

  * Change: Each HTML page now has a link to the HFM.NET Google Code page.  Using alternating colors on Overview page.
  * Change: Small tweak to the LogParser.cs when CheckForProjectID() writes the warning message "Failed to parse the Project (R/C/G) values from '{0}'" generated by SetProjectID().  There was no indication of which client log failed the parse and what value generated the warning.
  * Change: Protein Information on the Benchmarks Form now in text boxes (just aesthetics).  Fix the spelling of "Preferred" on the Benchmarks Form.
  * Change: All Forms are now being set with DoubleBuffered = true in an attempt to further alleviate UI lag issues.

  * Fix: Grid columns not appearing in default order on some users systems.  Manually create the columns and bind.  Allows column headers to be labeled in a more visually friendly manner (i.e. they can have spaces now).

=Change Log - Version: 0.2.1 - Build 23 - Beta=

  * Enhancement: Major upgrade to the HTML Summary page.  Now outputs a table with the same columns as the main HFM UI including the proper status color.
  * Enhancement: Add Mobile Overview (mobile.html) and Mobile Summary (mobilesummary.html) Web Generation.  
  * Enhancement: Allow website to be uploaded via FTP when a FTP style URL is input as the Target Folder (i.e. ftp://username:password@ftp.com/FolderName/).
  * Enhancement: Added ToolTip for the Status column that shows the text representation of the current Status.  
  * Enhancement: Added check of Username and Team vs. the configured Username and Team (will show Orange with ToolTip if incorrect).  
  * Enhancement: Added Preferences setting to control how many decimals are shown in PPD calculations (0 to 5 decimal places).  

  * Change: Add the user input processor MHz as a column.
  * Change: Remove the Team column and Combine it with the Username column (will require you to reset your column widths).
  * Change: Reference the correct casing of the CSS files, and add code to make sure previous versions of HFM will still find the right CSS selection... however, to "fix" the entry in the Preferences the user will need to accept the Preferences Form after upgrading.  This change for the casing is necessary to support running on Mono in a Linux environment.

  * Fix: Preferences Dialog - add code to allow only digits to be input in either Minutes field, the EOC ID, Team Number, or Proxy Port field. 
  * Fix: Bug that caused the main grid Sort Order to be lost after minimizing the main UI window.
  * Fix: Web Generation code now wrapped in try/catch, if the web generation would fail the timers would not be reset and thus HFM would stop refreshing the client data.  

  * Suggested Setting (Linux): Try "xdg-open" for logfile viewer and file explorer.

=Change Log - Version: 0.2.0 - Build 20 - Beta=

  * Fix: Only accumulate Completed and Failed counts on most recent unit parse.
  * Fix: Final fix for resuming from a long pause.  I think I've got it licked now.
  * Fix: Parsing of frame percentage from older clients like v5.02.  
  * Fix: Parsing Frame 0 - which doesn't happen with GPUs and rarely on SMP.  However, Standard clients often report Frame 0.
  * Fix: Unhandled exception that occurs when viewing the benchmarks window with no clients loaded (actually no client selected).

  * Change: Setup frmPreferences to only show the WebBrowser control when not running under Mono Framework.  
  * Change: Patched the main Project Resources.resx file for case sensitivity.

=Change Log - Version: 0.2.0 - Build 18 - Beta=

  * Fix: Fixed the problem with completed units being written to the CompletedUnits.csv file with no frame time or PPD.
  * Fix: Fixed problem with determining client 'Status' when a client resumes from a paused state (specifically a very long pause).
  * Fix: Pull the last Username and Team ID string from the FAHlog.txt file, not the first.
  * Fix: Fixed 'AllFrames' calculation.
  * Fix: Wrap the FAHLogStats.NET Link process start on the About Dialog in a try/catch.

  * Change: Use Path.Combine and remove hard coded "\\" platform specific Path Delimiter characters.
  * Change: Change log file name defaults to their accurate, case-sensitive names "FAHlog.txt" and "unitinfo.txt".  
  * Change: Minor UI tweaks to the Benchmarks Form Layout.
  * Change: Replace Forms based timers with System.Timers.Timer objects (no need to Invoke calls anymore).
  * Change: Corrected "\\" to "//" in the commented logo areas of the Overview.xml and Summary.xml files.
  * Change: Changed the HTML Output "Page rendered" strings to read "Page rendered by HFM.NET on...", also reformatted the xslt files.

  * Enhancement: Add "Auto Save Configuration" option.
  * Enhancement: Add support for detecting clients as Hung before they have generated a valid frame time.

=Change Log - Version: 0.2.0 - Build 17 - Beta=

  * Enhancement: MAJOR REWORK!!!  Added support for Benchmarking Work Units.  
  * Enhancement: Added ability to save the currently in progress UnitInfo objects on application exit.  This allows the state of the last known projects in progress to be restored the next time the application starts.  
  * Enhancement: Added output of completed units to CompletedUnits.csv file.  Allows external analysis of completed work.  Preliminary at this point, still needs a little work I think.
  * Enhancement: The benchmarking changes yield the functionality to show frame times (PPD, etc) as 'AllFrames' and also 'EffectiveRate' in addition to 'LastFrame' and 'LastThreeFrames'.
  * Enhancement: Added option to Import FahMon style ClientsTab.txt files as a HFM Configuration (used file from v2.3.99.1 to test).

  * Fix: Fixed HUGE BUG in the frmMessages.UpdateMessages() routine which resulted in full UI deadlock (use BeginInvoke in lieu of Invoke).  
  * Fix: Unit DownloadTime now handled correctly for clients marked as 'Client is on Virtual Machine'.  
  * Fix: Fixed small bug where a DirectoryPathSeparator character was being added to the end of a PathInstance path every time the TextBox was left (added in Rev 15 - no build produced).

  * Change: Add StringOps.cs Class to facilitate validation and parsing of Client Instance data strings.  
  * Change: Update ClientInstance Http and Ftp download routines (these are now verified working).
  * Change: Add "Wrapper" classes (that specify DoubleBuffered = true) for the most commonly used controls in an effort to further reduce UI lag.
  * Change: Host Instance Add/Edit Dialog got a much needed work over. Now using StringOps for input validation.  
  * Change: Allow the user to continue with Client Input Parameters that fail validation if they choose to do so (not recommended).

=Change Log - Version: 0.1.1 - Build 14 - Beta=

  * Fix: Corrected on error in the log parsing that was causing SMP A1 Core (and likely Standard Client Cores) to fail parsing.  Resulting in the clients status staying yellow.

=Change Log - Version: 0.1.1 - Build 13 - Beta=

  * Fix: Set DoubleBuffering on the DataGridView to fix extremely slow painting on XP while GPU2 is active.  If this doesn't fix the problem of slow UI response, then nothing will.

  * Change: Switch back to using GDI for text rendering. It just looks better.

=Change Log - Version: 0.1.1 - Build 12 - Beta=

  * Fix: Change text rendering engine to GDI+.  This fixes the extreme lag issue experienced on XP.  Note: There is still some lag when GPU2 is active, but HFM is now totally usable while also running GPU2 on XP based on my testing.

  * Change: Increase maximum UnitInfo.txt size to 1 Megabyte.
  * Change: Fix host path regex to accept fully qualified server names such as my.server.com (patch from smartcat99s).

  * Enhancement: Add capture of Username and Team to the main grid.
  * Enhancement: Allow the log file window to be sized.

=Change Log - Version: 0.1.1 - Build 11 - Beta=

  * Fix: "No Prompt on Exit" after configuration has changed when exiting via the "X" on the main window.
  * Fix: Large 'Progress' values being parsed from UnitInfo.txt file.
  * Fix: Halt downloading of overly large UnitInfo.txt files (Local Clients Only).
  * Fix: Client status shows as 'Hung' (Red) when a client's log file time stamp is ahead by 1 hour.  Setting an 'Offset' value of 60 minutes will now correct this.

  * Change: Set default Stanford Project download to psummary.html, not psummaryC.html.
  * Change: Increase Client 'Offset' minimum and maximum values to +/- 720 minutes (12 hours).
  * Change: Messages Window Font to "Courier New" (fixed width) and made text read only.
  * Change: Format debug messages with message type identifier (" ", "X", "!", "-", "+").
  * Change: A lot of code realignment and changing of Debug Message Levels.

  * Enhancement: Add Debug Level for Logging/Messages as a user defined setting (Preferences -> Defaults).  Use this setting to effect the level of detail shown in the Log File and Messages Window.
  * Enhancement: Added support for missing FAH Cores currently not in production (GBGROMACS, QMD, GROST, DGROMACSB) and ATI & NVIDIA Development Cores.
  * Enhancement: Auto download new Project data when Project cannot be identified using cached Project data.
  * Enhancement: Only download FAHLog.txt when it has changed vs. the currently cached copy (Local Clients Only).  Can speed up retrieval cycle, especially when set to very low intervals.
  * Enhancement: Output 'Status' Determination data when using 'Verbose' Debug Level.  If you have clients continually showing as 'Hung' (Red) this output will help me debug the problem with the time stamps coming from the local machine vs. the hung clients.